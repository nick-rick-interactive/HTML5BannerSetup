var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),BannerCanvas=function(){return function(e,t,n,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n="in-page"),void 0===a&&(a=3);var i=this;this.loadImages=function(){for(var e in i.imgLoads)$(i.imgLoads[e].el.image).bind("load",i.checkLoad),i.imgLoads[e].el.image.src=i.imgLoads[e].src},this.checkLoad=function(){if(i.imgsLoaded++,i.imgsLoaded==i.imgLoads.length)for(var e in i.imgLoads)i.imgLoads[e].el.cache(0,0,i.imgLoads[e].el.getBounds().width,i.imgLoads[e].el.getBounds().height);Enabler.isInitialized()?i.enablerInitHandler(null):Enabler.addEventListener(studio.events.StudioEvent.INIT,i.enablerInitHandler)},this.enablerInitHandler=function(e){Enabler.isPageLoaded()?i.checkVisible(null):Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,i.checkVisible),e&&console.log(e)},this.checkVisible=function(e){Enabler.isVisible()?i.init(null):Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,i.init),e&&console.log(e)},this.init=function(e){alert("you must add an init function to the extended type-script class"),e&&console.log(e)},this.expandInit=function(){alert("you must add an expand init function to the extended type-script class")},this.closeInit=function(){alert("you must add an close init function to the extended coffeescript class")},this.expandStartHandler=function(){Enabler.finishExpand()},this.expandFinishHandler=function(){i.isExpanded=!0,i.expandInit()},this.collapseStartHandler=function(){Enabler.finishCollapse()},this.collapseFinishHandler=function(){i.isCollapsed=!0},this.end=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]),i.curLoop==i.loop?clearInterval(i.switchInt):(i.curLoop++,i.replay(e,t,n))},this.exit=function(){i.switchInt&&clearInterval(i.switchInt),Enabler.exit("exit")},this.replay=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);for(var a in i.els)$.inArray($(i.els[a]).attr("id"),n)>-1&&$(i.els[a]).removeAttr("style");i.switchFunc(e,t)},this.storeElements=function(e,t){void 0===t&&(t=null);for(var n in e.reverse())i.storeElement(e[n],t)},this.storeElement=function(e,t){void 0===t&&(t=null);var n,a;if($(e).children().length>0)(n=new createjs.Container).name=$(e).attr("id"),n.x=Number($(e).css("left").replace("px","")),n.y=Number($(e).css("top").replace("px","")),n.alpha=Number($(e).css("opacity").replace("px","")),i.els[$(e).attr("id")]=n,i.OG[$(e).attr("id")]=n.clone,i.stage.addChild(n),i.storeElements($(e).children().toArray(),n),n.set(0);else{if($(e).is("img")){a=new createjs.Bitmap(""),$(e).attr("src");var s={el:a,src:$(e).attr("src")};i.imgLoads.push(s)}else(a=new createjs.Shape).graphics.beginFill("rgba(255,0,0,0)"),a.graphics.drawRect(0,0,Number($(e).css("width").replace("px","")),Number($(e).css("height").replace("px","")));a.name=$(e).attr("id"),a.x=Number($(e).css("left").replace("px","")),a.y=Number($(e).css("top").replace("px","")),a.alpha=Number($(e).css("opacity").replace("px","")),i.els[$(e).attr("id")]=a,i.OG[$(e).attr("id")]=a.clone,t?t.addChild(a):i.stage.addChild(a)}},this.toggleExpand=function(){i.isExpanded=i.isExpanded?Enabler.requestCollapse():Enabler.requestExpand()},this.close=function(){Enabler.reportManualClose(),Enabler.close(),i.closeInit()},this.autoClose=function(){i.autoTimer&&clearInterval(i.autoTimer),Enabler.close(),i.closeInit()},this.switchFunc=function(e,t){void 0===t&&(t=0),i.switchInt&&clearInterval(i.switchInt),i.switchInt=setInterval(e,1e3*t)},this.addCounter=function(e,t){$(e).click(function(){Enabler.counter(t)})},this.centerReg=function(e){e.regX=e.getBounds().width/2,e.regY=e.getBounds().height/2},this.rightReg=function(e){e.regX=e.getBounds().width},this.width=e,this.height=t,this.type=n,this.loop=a,this.curLoop=1,this.imgLoads=[],this.imgsLoaded=0,this.canvas=document.getElementById("main"),this.stage=new createjs.Stage(this.canvas),this.els={},this.OG={},this.storeElements($("#elements").children().toArray()),TweenMax?TweenMax.ticker.addEventListener("tick",this.stage.update,this.stage):TweenLite.ticker.addEventListener("tick",this.stage.update,this.stage),$("#main-container").bind("click",this.exit),this.stage.update(),this.els.overlay.cursor="pointer",this.els.overlay.enableMouseOver=!0,this.els.ctacont.cursor="pointer",this.els.ctacont.enableMouseOver=!0,"in-page"!=this.type&&(Enabler.addEventListener(studio.events.StudioEvent.EXPAND_START,this.expandStartHandler),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_FINISH,this.expandFinishHandler),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_START,this.collapseStartHandler),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_FINISH,this.collapseFinishHandler)),this.loadImages()}}(),Chrome_300x250=function(e){function t(t,n,a,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===a&&(a="in-page"),void 0===i&&(i=3);var s=e.call(this,t,n,a,i)||this;return s.init=function(){s.pace=1,s.origVals={},s.setup()},s.setup=function(){TweenLite.set(s.els.ball,{alpha:0,y:s.height/2,x:s.width/2+70}),s.centerReg(s.els.ball);for(var e=1;e<4;e++)e<3&&(TweenLite.set(s.els["h2_"+e],{alpha:0,y:s.height/2,x:s.width/2,scaleX:.95,scaleY:.95}),s.centerReg(s.els["h2_"+e])),TweenLite.set(s.els["h"+e],{alpha:0,y:s.height/2,x:s.width/2,scaleX:.95,scaleY:.95}),s.centerReg(s.els["h"+e]);TweenMax.set(s.els.cta,{alpha:0}),TweenMax.set(s.els.chevron,{alpha:0,x:-5}),s.phase1()},s.phase1=function(){for(var e=1;e<4;e++)TweenMax.to(s.els["h"+e],1,{alpha:1,scaleX:1,scaleY:1,ease:Expo.easeInOut,delay:.2*e});s.switchFunc(s.phase2,s.pace+1.5)},s.phase2=function(){for(var e=1;e<4;e++)TweenMax.to(s.els["h"+e],1,{alpha:0,scaleX:.9,scaleY:.9,ease:Expo.easeInOut,delay:.05*e});TweenMax.to(s.els.ball,1,{alpha:1,ease:Cubic.easeOut,delay:.75}),TweenMax.to(s.els.ball,1,{x:s.width/2,ease:Expo.easeInOut,delay:1.75}),s.switchFunc(s.phase3,s.pace+.5)},s.phase3=function(){for(var e=1;e<3;e++)TweenMax.to(s.els["h2_"+e],1,{alpha:1,scaleX:1,scaleY:1,ease:Expo.easeInOut,delay:.2*e});TweenMax.to(s.els.cta,1,{alpha:1,ease:Cubic.easeOut,delay:1}),TweenMax.to(s.els.chevron,1,{alpha:1,ease:Cubic.easeOut,delay:1}),TweenMax.to(s.els.chevron,1,{x:0,ease:Cubic.easeOut,delay:1.05}),s.switchFunc(s.phase4,s.pace+.5)},s.phase4=function(){$("#main").on("mouseover",s.overBanner),$("#main").on("mouseout",s.outBanner),s.switchFunc(s.finish,s.pace+6)},s.finish=function(){s.curLoop==s.loop?s.end(s.setup):TweenLite.to(s.els.bg,.3,{alpha:1,ease:Cubic.easeInOut,onComplete:function(){return s.end(s.setup)}})},s.overBanner=function(){TweenMax.to(s.els.chevron,.5,{x:-5,ease:Cubic.easeOut})},s.outBanner=function(){TweenMax.to(s.els.chevron,.5,{x:0,ease:Cubic.easeOut})},s.shuffle=function(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),a=e[--t];e[t]=e[n],e[n]=a}return e},s}return __extends(t,e),t}(BannerCanvas);$(document).ready(function(){banner=new Chrome_300x250(300,250,"in-page",1)});